<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PNG Sequence to Video ‚Äî NGP Hub</title>

<!-- Open Graph / Social Media Preview Tags -->
<meta property="og:title" content="PNG Sequence to Video ‚Äî NGP Hub" />
<meta property="og:description" content="Convert your PNG image sequences into videos. No file limits, all processed locally in your browser. Perfect for Blender renders!" />
<meta property="og:image" content="https://ngphub.com/assets/ngp-logo.png" />
<meta property="og:url" content="https://ngphub.com/tools/png-to-video" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="NGP Hub" />

<!-- Twitter Card Tags -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="PNG Sequence to Video ‚Äî NGP Hub" />
<meta name="twitter:description" content="Convert your PNG image sequences into videos. No file limits, all processed locally." />
<meta name="twitter:image" content="https://ngphub.com/assets/ngp-logo.png" />

<!-- Additional SEO -->
<meta name="description" content="Convert PNG image sequences into videos with no file size limits. Perfect for Blender renders and animation frames. All processing happens locally in your browser." />
<meta name="keywords" content="PNG to video, image sequence converter, Blender render, animation, NGP tools" />

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap" rel="stylesheet" />

<!-- Favicon (tab bar icon) -->
<link rel="icon" href="/assets/ngp-logo.png" type="image/png">

<style>
  :root{
    --bg:#0e0e11; --card:#15151b; --ink:#ececf1; --muted:#b5b7c3;
    --brandA:#6a11cb; --brandB:#2575fc; --line:#3a66ff;
    --ring:0 0 0 .2rem rgba(37,117,252,.35);
    --radius:16px; --shadow:0 10px 30px rgba(0,0,0,.35);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:linear-gradient(180deg,#0b0b0e,#121219 60%,#0d0d14);
    color:var(--ink);
    font-family:'Rubik',system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif;
    -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    scroll-behavior:smooth; min-height:100vh; display:flex; flex-direction:column;
  }
  .wrap{max-width:1024px; margin:0 auto; padding:0 16px; width:100%}

  /* Header */
  header{
    position:sticky; top:0; z-index:50; backdrop-filter:saturate(140%) blur(10px);
    background:rgba(10,10,14,.6); border-bottom:1px solid rgba(255,255,255,.06);
  }
  .bar{display:flex; align-items:center; justify-content:space-between; padding:12px 0}
  .logo{display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--ink)}
  .logo-img{width:28px; height:28px; border-radius:10px; object-fit:contain; box-shadow:var(--shadow)}
  .logo h1{font-size:1.05rem; margin:0; letter-spacing:.3px}
  nav{display:flex; align-items:center; gap:6px; flex-wrap:wrap}
  nav a{
    color:var(--ink); text-decoration:none; font-weight:500;
    padding:8px 10px; border-radius:10px; opacity:.9; transition:all .2s ease;
  }
  nav a:hover, nav a:focus-visible{background:rgba(255,255,255,.06); outline:none; box-shadow:var(--ring)}

  /* Main Content */
  main{flex:1; padding:60px 0}
  
  .hero{text-align:center; margin-bottom:48px}
  .hero h2{
    font-size:2.5rem; margin:0 0 12px; font-weight:700;
    background:linear-gradient(135deg,var(--brandA),var(--brandB));
    -webkit-background-clip:text; -webkit-text-fill-color:transparent;
    background-clip:text;
  }
  .hero p{color:var(--muted); font-size:1.1rem; margin:0}

  .tool-card{
    background:var(--card); border-radius:var(--radius); padding:32px;
    box-shadow:var(--shadow); border:1px solid rgba(255,255,255,.06);
    max-width:800px; margin:0 auto;
  }

  .upload-zone{
    border:3px dashed var(--line); border-radius:var(--radius);
    padding:60px 24px; text-align:center; cursor:pointer;
    transition:all .3s ease; margin-bottom:24px; position:relative;
    background:rgba(58,102,255,.03);
  }
  .upload-zone:hover{
    background:rgba(58,102,255,.08); border-color:var(--brandB);
    transform:translateY(-2px);
  }
  .upload-zone.dragover{
    background:rgba(58,102,255,.15); border-color:var(--brandB);
    transform:scale(1.02);
  }
  .upload-icon{font-size:4rem; margin-bottom:16px; opacity:.9}
  .upload-zone h3{margin:0 0 8px; font-size:1.3rem}
  .upload-zone p{color:var(--muted); margin:0; font-size:.95rem}

  .file-badge{
    background:linear-gradient(135deg,var(--brandA),var(--brandB));
    color:white; padding:12px 24px; border-radius:12px; display:inline-block;
    font-weight:600; margin-bottom:24px; box-shadow:var(--shadow);
    display:none;
  }

  .settings-grid{
    display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
    gap:20px; margin-bottom:24px;
  }
  .setting-group label{
    display:block; color:var(--ink); font-weight:600;
    margin-bottom:8px; font-size:.9rem;
  }
  .setting-group input, .setting-group select{
    width:100%; padding:12px 16px; border-radius:10px;
    border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.03);
    color:var(--ink); font-size:1rem; font-family:inherit;
    transition:all .2s ease;
  }
  .setting-group input:focus, .setting-group select:focus{
    outline:none; border-color:var(--brandB); box-shadow:var(--ring);
  }

  .btn{
    width:100%; padding:16px; border-radius:12px; border:none;
    background:linear-gradient(135deg,var(--brandA),var(--brandB));
    color:white; font-size:1.1rem; font-weight:600; cursor:pointer;
    transition:all .3s ease; font-family:inherit; box-shadow:var(--shadow);
  }
  .btn:hover:not(:disabled){
    transform:translateY(-2px); box-shadow:0 12px 40px rgba(37,117,252,.4);
  }
  .btn:active:not(:disabled){transform:translateY(0)}
  .btn:disabled{opacity:.5; cursor:not-allowed}

  .progress-section{display:none; margin-top:24px}
  .progress-bar-outer{
    width:100%; height:40px; background:rgba(255,255,255,.05);
    border-radius:20px; overflow:hidden; margin-bottom:12px;
    border:1px solid rgba(255,255,255,.08);
  }
  .progress-bar-inner{
    height:100%; background:linear-gradient(90deg,var(--brandA),var(--brandB));
    width:0%; transition:width .3s ease; display:flex; align-items:center;
    justify-content:center; color:white; font-weight:700; font-size:.95rem;
  }
  .status-text{text-align:center; color:var(--muted); font-size:.95rem}

  .preview-section{display:none; margin-top:32px}
  .preview-section h3{margin:0 0 16px; font-size:1.2rem}
  .preview-video{
    width:100%; border-radius:12px; background:#000;
    box-shadow:var(--shadow); margin-bottom:16px;
  }

  .tip-box{
    background:rgba(58,102,255,.08); border-left:4px solid var(--line);
    padding:16px; border-radius:8px; margin-top:24px;
  }
  .tip-box strong{color:var(--brandB)}
  .tip-box p{margin:0; color:var(--muted); font-size:.9rem; line-height:1.6}

  /* Footer */
  footer{border-top:1px solid rgba(255,255,255,.08); color:var(--muted); padding:24px 0 36px; text-align:center}

  @media (max-width:640px){
    .hero h2{font-size:2rem}
    .tool-card{padding:24px}
    .upload-zone{padding:40px 20px}
    .settings-grid{grid-template-columns:1fr}
  }

  @media (prefers-reduced-motion: reduce){*{transition:none !important; animation:none !important}}
</style>
</head>
<body>

<header>
  <div class="wrap bar">
    <a class="logo" href="/">
      <img src="/assets/ngp-logo.png" alt="NGP Logo" class="logo-img" />
      <h1>NGP</h1>
    </a>
    <nav aria-label="Primary">
      <a href="/tools">Tools</a>
      <a href="/discordservers/">Servers</a>
      <a href="/projects">Projects</a>
      <a href="/docs/">Docs</a>
      <a href="/roblox">Roblox</a>
      <a href="/contact">Contact</a>
    </nav>
  </div>
</header>

<main>
  <div class="wrap">
    <div class="hero">
      <h2>üé¨ PNG Sequence to Video</h2>
      <p>Convert your image sequences into videos. No file limits, all local processing.</p>
    </div>

    <div class="tool-card">
      <input type="file" id="fileInput" accept="image/png" multiple style="display:none;">
      
      <div class="upload-zone" id="uploadZone">
        <div class="upload-icon">üìÅ</div>
        <h3>Click or drag & drop your PNG sequence</h3>
        <p>Select all frames at once ‚Ä¢ Perfect for Blender renders</p>
      </div>

      <div class="file-badge" id="fileBadge"></div>

      <div class="settings-grid">
        <div class="setting-group">
          <label for="fps">Frame Rate (FPS)</label>
          <input type="number" id="fps" value="30" min="1" max="120">
        </div>
        <div class="setting-group">
          <label for="quality">Video Quality</label>
          <select id="quality">
            <option value="0.95">High Quality</option>
            <option value="0.85" selected>Medium Quality</option>
            <option value="0.70">Low Quality</option>
          </select>
        </div>
      </div>

      <button class="btn" id="convertBtn" disabled>Convert to Video</button>

      <div class="progress-section" id="progressSection">
        <div class="progress-bar-outer">
          <div class="progress-bar-inner" id="progressBar">0%</div>
        </div>
        <div class="status-text" id="statusText">Ready...</div>
      </div>

      <div class="preview-section" id="previewSection">
        <h3>‚ú® Your Video is Ready!</h3>
        <video class="preview-video" id="previewVideo" controls></video>
        <button class="btn" id="downloadBtn">Download Video</button>
      </div>

      <div class="tip-box">
        <strong>üí° Pro Tips:</strong>
        <p>
          ‚Ä¢ Name your files with numbers (frame_001.png, frame_002.png) for correct ordering<br>
          ‚Ä¢ Higher FPS = smoother motion but larger files<br>
          ‚Ä¢ All processing happens in your browser ‚Äî files never leave your computer
        </p>
      </div>
    </div>
  </div>
</main>

<footer>
  <div class="wrap">
    <small>¬© <span id="year"></span> NGP ‚Äî Alpha.</small>
  </div>
</footer>

<script>
(function() {
  'use strict';
  
  // Elements
  const uploadZone = document.getElementById('uploadZone');
  const fileInput = document.getElementById('fileInput');
  const fileBadge = document.getElementById('fileBadge');
  const convertBtn = document.getElementById('convertBtn');
  const progressSection = document.getElementById('progressSection');
  const progressBar = document.getElementById('progressBar');
  const statusText = document.getElementById('statusText');
  const previewSection = document.getElementById('previewSection');
  const previewVideo = document.getElementById('previewVideo');
  const downloadBtn = document.getElementById('downloadBtn');
  const fpsInput = document.getElementById('fps');
  const qualitySelect = document.getElementById('quality');

  let files = [];
  let videoBlob = null;

  // Year for footer
  document.getElementById('year').textContent = new Date().getFullYear();

  // Prevent ALL default drag/drop behavior
  const prevent = (e) => {
    e.preventDefault();
    e.stopPropagation();
    e.stopImmediatePropagation();
    return false;
  };

  // Apply prevention globally
  ['dragover', 'drop'].forEach(evt => {
    window.addEventListener(evt, prevent, true);
    document.addEventListener(evt, prevent, true);
    document.body.addEventListener(evt, prevent, true);
  });

  // Click to upload
  uploadZone.addEventListener('click', (e) => {
    prevent(e);
    fileInput.click();
  }, true);

  // Drag feedback
  uploadZone.addEventListener('dragover', (e) => {
    prevent(e);
    uploadZone.classList.add('dragover');
    e.dataTransfer.dropEffect = 'copy';
  }, true);

  uploadZone.addEventListener('dragleave', (e) => {
    prevent(e);
    uploadZone.classList.remove('dragover');
  }, true);

  // Drop handler
  uploadZone.addEventListener('drop', (e) => {
    prevent(e);
    uploadZone.classList.remove('dragover');
    const dropped = e.dataTransfer.files;
    if (dropped && dropped.length > 0) {
      handleFiles(dropped);
    }
  }, true);

  // File input change
  fileInput.addEventListener('change', (e) => {
    handleFiles(e.target.files);
  });

  // Handle files
  function handleFiles(fileList) {
    files = Array.from(fileList).filter(f => 
      f.type === 'image/png' || f.name.toLowerCase().endsWith('.png')
    );
    
    // Natural sort (handles frame_1, frame_10 correctly)
    files.sort((a, b) => a.name.localeCompare(b.name, undefined, {
      numeric: true,
      sensitivity: 'base'
    }));
    
    if (files.length > 0) {
      convertBtn.disabled = false;
      fileBadge.style.display = 'inline-block';
      fileBadge.textContent = `‚úì ${files.length} PNG files loaded`;
      
      // Reset UI
      progressSection.style.display = 'none';
      previewSection.style.display = 'none';
    } else {
      convertBtn.disabled = true;
      fileBadge.style.display = 'none';
      alert('No PNG files found! Please select .png files.');
    }
  }

  // Convert button
  convertBtn.addEventListener('click', async () => {
    if (files.length === 0) return;
    
    convertBtn.disabled = true;
    progressSection.style.display = 'block';
    previewSection.style.display = 'none';
    
    try {
      await convertToVideo();
    } catch (err) {
      alert('Error: ' + err.message);
      console.error(err);
    } finally {
      convertBtn.disabled = false;
    }
  });

  // Main conversion function
  async function convertToVideo() {
    const fps = parseInt(fpsInput.value) || 30;
    const quality = parseFloat(qualitySelect.value) || 0.85;
    
    updateProgress(5, 'Loading images...');
    
    // Load all images with progress
    const images = [];
    for (let i = 0; i < files.length; i++) {
      const img = await loadImage(files[i]);
      images.push(img);
      const prog = 5 + (i / files.length) * 15;
      updateProgress(prog, `Loading image ${i + 1} of ${files.length}...`);
    }
    
    updateProgress(20, 'Setting up canvas...');
    
    // Canvas setup
    const width = images[0].width;
    const height = images[0].height;
    const canvas = document.createElement('canvas');
    canvas.width = width;
    canvas.height = height;
    const ctx = canvas.getContext('2d', { alpha: false });
    
    // Check for VP9 support
    let mimeType = 'video/webm;codecs=vp9';
    if (!MediaRecorder.isTypeSupported(mimeType)) {
      mimeType = 'video/webm;codecs=vp8';
    }
    if (!MediaRecorder.isTypeSupported(mimeType)) {
      mimeType = 'video/webm';
    }
    
    const stream = canvas.captureStream(fps);
    const recorder = new MediaRecorder(stream, {
      mimeType: mimeType,
      videoBitsPerSecondrate: Math.floor(8000000 * quality)
    });
    
    const chunks = [];
    recorder.ondataavailable = (e) => {
      if (e.data.size > 0) chunks.push(e.data);
    };
    
    return new Promise((resolve, reject) => {
      recorder.onstop = () => {
        videoBlob = new Blob(chunks, { type: 'video/webm' });
        previewVideo.src = URL.createObjectURL(videoBlob);
        previewSection.style.display = 'block';
        updateProgress(100, '‚ú® Done! Your video is ready.');
        resolve();
      };
      
      recorder.onerror = reject;
      recorder.start();
      
      let frameIdx = 0;
      const frameDuration = 1000 / fps;
      
      function renderFrame() {
        if (frameIdx >= images.length) {
          recorder.stop();
          return;
        }
        
        ctx.drawImage(images[frameIdx], 0, 0, width, height);
        
        const prog = 20 + (frameIdx / images.length) * 80;
        updateProgress(prog, `Rendering frame ${frameIdx + 1} of ${images.length}...`);
        
        frameIdx++;
        setTimeout(renderFrame, frameDuration);
      }
      
      renderFrame();
    });
  }

  // Load single image
  function loadImage(file) {
    return new Promise((resolve, reject) => {
      const reader = new FileReader();
      reader.onload = (e) => {
        const img = new Image();
        img.onload = () => resolve(img);
        img.onerror = () => reject(new Error('Failed to load image: ' + file.name));
        img.src = e.target.result;
      };
      reader.onerror = () => reject(new Error('Failed to read file: ' + file.name));
      reader.readAsDataURL(file);
    });
  }

  // Update progress
  function updateProgress(percent, text) {
    const rounded = Math.round(percent);
    progressBar.style.width = rounded + '%';
    progressBar.textContent = rounded + '%';
    statusText.textContent = text;
  }

  // Download button
  downloadBtn.addEventListener('click', () => {
    if (!videoBlob) return;
    
    const url = URL.createObjectURL(videoBlob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'ngp_render_' + Date.now() + '.webm';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    
    // Clean up after a delay
    setTimeout(() => URL.revokeObjectURL(url), 100);
  });
})();
</script>

</body>
</html>
